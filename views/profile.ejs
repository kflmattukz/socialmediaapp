<%- include('template/head') %>
<%- include('template/flash') %>

    <div class="w-2/4 mt-10 mx-auto">
        <div class="flex items-center gap-2">
            <img class="w-20 h-20 rounded-full" 
            src="https://avatars.dicebear.com/api/initials/<%= profile.email %>.svg" alt="User Profile">
            <div class="text-4xl font-medium text-gray-700 tracking-tight"><%= profile.username %></div>
            <button class="bg-blue-500 py-2 px-3 font-semibold text-white tracking-wider hover:bg-blue-600 rounded shadow-md">Follow&nbsp;+</button>
        </div>

        <div class="mt-10 text-gray-800">
            <h2 class="ml-2 pb-3 text-lg font-bold tracking-wide text-gray-700">Post</h2>
            <hr>

            <div class="flex flex-col gap-2">
                
                <% if (posts.length > 0) { %>
                
                    <% posts.forEach(post => { %>
                        <a href="/post/<%= post._id %>" class="flex items-center gap-2 bg-white p-2 rounded-md shadow-sm border border-gray-600 border-opacity-25 hover:shadow-md"> 
                            <img class="w-8 h-8 rounded-full" src="https://avatars.dicebear.com/api/initials/<%= post.author.email %>.svg" alt="Author Avatar">
                            <div class="font-medium text-gray-700"><%= post.title %></div>
                            <div class="text-gray-700 font-light">on <%= post.created_at.getDate() %>/<%= post.created_at.getMonth() + 1 %>/<%= post.created_at.getFullYear() %></div>
                        </a>
                    <% }) %>
    
                <% } else { %>
                    
                    <div class="text-4xl text-gray-900 font-thin text-center mt-5">
                        You don't have any post yet. <br>
                        let's go create <a class="text-blue-500 hover:text-blue-600" href="/create-post">here.</a>
                    </div>
    
                <% } %>

            </div>

        </div>
    </div>

<%- include('template/footer') %>